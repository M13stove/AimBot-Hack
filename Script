local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "AimBot Hack üëå",
   Icon = 0, -- No icon
   LoadingTitle = "AimBot",
   LoadingSubtitle = "by Kanshy_OIO",
   Theme = "Default",
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = true,

   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil, 
      FileName = "AimBot"
   },

   Discord = {
      Enabled = false,
      Invite = "noinvitelink",
      RememberJoins = true
   },

   KeySystem = false
})

local MainTab = Window:CreateTab("Home üè°", nil)
local MainSection = MainTab:CreateSection("Aimbot Controls")

-- Toggle for Aimbot
local aimbotEnabled = false

MainTab:CreateToggle({
   Name = "Enable Aimbot",
   CurrentValue = false, -- Default state is off
   Callback = function(value)
      aimbotEnabled = value
      print("Aimbot is now", aimbotEnabled and "Enabled" or "Disabled")
   end,
})

-- Aimbot Logic
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local function getNearestPlayer()
   local nearestPlayer = nil
   local shortestDistance = math.huge -- Set to a very large number

   for _, player in pairs(Players:GetPlayers()) do
      if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") then
         local playerHead = player.Character.Head
         local distance = (LocalPlayer.Character.Head.Position - playerHead.Position).Magnitude

         if distance < shortestDistance then
            shortestDistance = distance
            nearestPlayer = player
         end
      end
   end

   return nearestPlayer
end

local function centerCameraOnNearestPlayer()
   if not aimbotEnabled then
      Camera.CameraType = Enum.CameraType.Custom -- Reset to default camera
      return
   end

   local nearestPlayer = getNearestPlayer()

   if nearestPlayer and nearestPlayer.Character and nearestPlayer.Character:FindFirstChild("Head") then
      local targetHead = nearestPlayer.Character.Head
      Camera.CameraType = Enum.CameraType.Scriptable -- Allows scripting control of the camera
      Camera.CFrame = CFrame.new(Camera.CFrame.Position, targetHead.Position) -- Point camera at the head
   else
      Camera.CameraType = Enum.CameraType.Custom
   end
end

RunService.RenderStepped:Connect(centerCameraOnNearestPlayer)

-- Destroy GUI Button
MainTab:CreateButton({
   Name = "Destroy GUI",
   Callback = function()
      Rayfield:Destroy()
   end,
})
