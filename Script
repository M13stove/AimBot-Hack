local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "AimBot Hack üëå",
   Icon = 0,
   LoadingTitle = "AimBot",
   LoadingSubtitle = "by Kanshy_OIO",
   Theme = "Default",
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = true,
   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "AimBot"
   },
   Discord = {
      Enabled = false,
      Invite = "noinvitelink",
      RememberJoins = true
   },
   KeySystem = false
})

local MainTab = Window:CreateTab("Home üè°", nil)
local MainSection = MainTab:CreateSection("Aimbot Controls")

-- Aimbot Logic Variables
local aimbotEnabled = false
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Function to find the nearest player
local function getNearestPlayer()
   local nearestPlayer = nil
   local shortestDistance = math.huge

   for _, player in pairs(Players:GetPlayers()) do
      if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") then
         local playerHead = player.Character.Head
         local distance = (LocalPlayer.Character.Head.Position - playerHead.Position).Magnitude

         if distance < shortestDistance then
            shortestDistance = distance
            nearestPlayer = player
         end
      end
   end

   return nearestPlayer
end

-- Function to center the camera on the nearest player's head
local function centerCameraOnNearestPlayer()
   if not aimbotEnabled then
      Camera.CameraType = Enum.CameraType.Custom
      return
   end

   local nearestPlayer = getNearestPlayer()

   if nearestPlayer and nearestPlayer.Character and nearestPlayer.Character:FindFirstChild("Head") then
      local targetHead = nearestPlayer.Character.Head
      Camera.CameraType = Enum.CameraType.Scriptable
      Camera.CFrame = CFrame.new(Camera.CFrame.Position, targetHead.Position)
   else
      Camera.CameraType = Enum.CameraType.Custom
   end
end

RunService.RenderStepped:Connect(centerCameraOnNearestPlayer)

-- Toggle Button for Aimbot
MainTab:CreateToggle({
   Name = "Enable Aimbot",
   CurrentValue = false,
   Callback = function(value)
      aimbotEnabled = value
      print("Aimbot is now", aimbotEnabled and "Enabled" or "Disabled")
   end,
})

-- Button to Destroy GUI
MainTab:CreateButton({
   Name = "Destroy GUI",
   Callback = function()
      Rayfield:Destroy()
   end,
})
